## 목과 스텁
 - 세세하게 나누자면, 더미 스텁 스파이 목 페이크 정도

### 목
 - 스파이, 목이 여기에 속한다
   - 스파이는 실제 객체를 만든다 (수동으로 작성)
   - 목은 객체를 만들지 않고, 상호작용에 대한것만 정의
 - 목은 외부로 나가는 상호 작용을 모방 (ex. SMTP 메일 호출)

### 스텁
 - 더미, 스텁, 페이크
   - 더미는 Null값이나 단순한 문자.
   - 스텁은 시나리오마다 다른 반환을 구성할수 있게 만들어 정교한 편
   - 페이크는 스텁과 같지만 아직 존재하지 않는 의존성을 대체(??)
 - 스텁은 입력 데이터를 얻기 위한 의존성 (ex. Parameter, DB Call도 포함인가?)


### 목과 스텁에 대한 검증
 - 목은 상호작용을 모방하고 <b>검사</B>
 - 스텁은 검사를 하지는 않음!
 - 최종 결과가 아닌 사항을 검증하면, 과잉명세
   - 스텁에 대한 검증은 과잉 명세로 이어진다.
---

### CQS
 - CQS 는 CQRS와 유사하지만, CQS는 메소드 단위 CQRS는 전체 단위
 - Command는 명령 (Mock)
 - Query 는 조회(Stub)

### 식별할 수 있는 동작과 구현 세부사항
 - 공개/비공개 API는 Public, Private
 - 식별할 수 있는 동작과, 공개 비공개는 다르다

### 식별할 수 있는 동작과 구현 세부사항
 - 클라이언트가 목표를 달성하는 데 도움이 되는 연산/목표를 달성하는데 도움이 되는 상태가 노출
 - 이 둘중 하나가 만족하는 경우 식별할 수 있는 동작 
 - 구현 세부사항은 두가지중 아무것도 하지 않는다.
 - 모든 구현 세부사항은 클라이언트 눈에 보이지 않아야한다.
 - 구현 세부 사항 유출 : 연산의 예
   - Setter를 노출하는건, 구현 세부사항의 노출이다
     - updateUser 처럼 두는건, 내부에 구현 세부사항을 두고 노출 안시키는 방법
     - Get을 하고, 그걸로 검증을 하고, Set을 하는건 구현 세부사항이 노출된것
 - 클라이언트가 목표를 달성하는 데 도움이 되는 작업을 노출하라
 - 클라이언트가 목표를 달성하는 데 도움이 되는 상태를 노출하라
 - 캡슐화가 잘된 API는 이런 일이 발생하지 않는다.
   - 캡슐화가 잘된 API는 요지보수성을 높인다.
   - 구현 세부 사항을 비공개로 하면, 테스트가 식별할 수 있는 동작을 검증하는 것 외에는 다른 선택지가 없다.
   - 수정해야할 포인트가 정해져서 그런듯 하다. (클라이언트의 진입점이 제한)

### 시스템 내부 통신과 외부 통신
 - 헥사고날 아키텍쳐에서의 목과 스텁
 - 정리중

---
### 궁금한점
 - 페이크는 무엇인가. 스텁과 다른점
 - 우리가 레포지토리를(Select만 하는거) 모킹 하는거는, 스텁인가 목인가
   - 스텁같은데